{"remainingRequest":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Karolis\\Desktop\\infomovies\\src\\components\\Comments.vue?vue&type=template&id=5847e424","dependencies":[{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\src\\components\\Comments.vue","mtime":1639041335121},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638703127529},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\babel-loader\\lib\\index.js","mtime":1638703128703},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1638703129442},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638703127529},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1638703128876}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQo8SGVhZGVyIC8+DQogICAgPGgxPkZpbG1vIHt7dGhpcy5tb3ZpZX19IGtvbWVudGFyxbMgc8SFcmHFoWFzPC9oMT4NCiAgICA8ZGl2IGNsYXNzPSJyZWdpc3RlciI+DQogICAgICAgIDxidXR0b24gdi1pZj0ic2hvd0lmVXNlcigpIiB2LW9uOmNsaWNrPSJjcmVhdGVDb21tZW50KCkiPlN1a3Vya2l0ZSBrb21lbnRhcsSFPC9idXR0b24+DQogICAgPC9kaXY+DQogICAgPGJyPg0KICAgIDxkaXYgY2xhc3M9InJlZ2lzdGVyIj4NCiAgICAgICAgPGJ1dHRvbiBAY2xpY2s9IiRyb3V0ZXIucHVzaCgnTW92aWVzJykiPkdyxK/FvnRpIMSvIGZpbG3FsyBzxIVyYcWhxIU8L2J1dHRvbj4NCiAgICA8L2Rpdj4NCiAgICA8YnI+DQogICAgPGJyPg0KICAgIDxNb2RhbFdpbmRvdyB2LXNob3c9ImlzTW9kYWxWaXNpYmxlIiBAY2xvc2U9ImNsb3NlTW9kYWwiPg0KICAgICAgICA8dGVtcGxhdGUgdi1zbG90OmJvZHk+DQogICAgICAgICAgICA8aDI+S29tZW50YXJhczwvaDI+DQogICAgICAgICAgICA8bGk+SWQgLSB7e3RoaXMuY29tbWVudC5pZH19PC9saT4NCiAgICAgICAgICAgIDxsaT5UZWtzdGFzIC0ge3t0aGlzLmNvbW1lbnQudGV4dH19PC9saT4NCiAgICAgICAgPC90ZW1wbGF0ZT4NCiAgICA8L01vZGFsV2luZG93Pg0KICAgIDx0YWJsZT4NCiAgICAgICAgPHRkIGNsYXNzPSJmaXJzdFJvdyI+VGVrc3RhczwvdGQ+DQogICAgICAgIDx0ZCBjbGFzcz0iZmlyc3RSb3ciIHYtaWY9InNob3dJZkFkbWluKCkiPjwvdGQ+DQogICAgICAgIDx0ZCBjbGFzcz0iZmlyc3RSb3ciIHYtaWY9InNob3dJZkFkbWluKCkiPjwvdGQ+DQogICAgICAgIDx0ciB2LWZvcj0iY29tbWVudCBpbiBjb21tZW50cyIgOmtleT0iY29tbWVudC5pZCI+DQogICAgICAgICAgICA8dGQgY2xhc3M9ImhpZ2hsaWdodCIgdi1vbjpjbGljaz0iZ2V0Q29tbWVudChjb21tZW50KSI+e3tjb21tZW50LnRleHR9fTwvdGQ+DQogICAgICAgICAgICA8dGQgY2xhc3M9ImhpZ2hsaWdodCIgdi1pZj0ic2hvd0lmQWRtaW4oKSIgdi1vbjpjbGljaz0idXBkYXRlQ29tbWVudChjb21tZW50LmlkKSI+QXRuYXVqaW50aTwvdGQ+DQogICAgICAgICAgICA8dGQgY2xhc3M9ImhpZ2hsaWdodCIgdi1pZj0ic2hvd0lmQWRtaW4oKSIgdi1vbjpjbGljaz0iZGVsZXRlQ29tbWVudChjb21tZW50LmlkKSI+ScWhdHJpbnRpPC90ZD4NCiAgICAgICAgPC90cj4gICANCiAgICA8L3RhYmxlPg0KICAgIDxwIGNsYXNzPSJmb290ZXIiPkluZm9Nb3ZpZXM8L3A+DQo="},{"version":3,"sources":["C:\\Users\\Karolis\\Desktop\\infomovies\\src\\components\\Comments.vue"],"names":[],"mappings":";AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9C,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACxF,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IACH,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzE,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IACH,CAAC,CAAC,CAAC;IACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAClB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACF,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9C,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9C,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7C,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3E,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAChG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClG,CAAC,CAAC,CAAC,CAAC;IACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/Karolis/Desktop/infomovies/src/components/Comments.vue","sourceRoot":"","sourcesContent":["<template>\r\n<Header />\r\n    <h1>Filmo {{this.movie}} komentarų sąrašas</h1>\r\n    <div class=\"register\">\r\n        <button v-if=\"showIfUser()\" v-on:click=\"createComment()\">Sukurkite komentarą</button>\r\n    </div>\r\n    <br>\r\n    <div class=\"register\">\r\n        <button @click=\"$router.push('Movies')\">Grįžti į filmų sąrašą</button>\r\n    </div>\r\n    <br>\r\n    <br>\r\n    <ModalWindow v-show=\"isModalVisible\" @close=\"closeModal\">\r\n        <template v-slot:body>\r\n            <h2>Komentaras</h2>\r\n            <li>Id - {{this.comment.id}}</li>\r\n            <li>Tekstas - {{this.comment.text}}</li>\r\n        </template>\r\n    </ModalWindow>\r\n    <table>\r\n        <td class=\"firstRow\">Tekstas</td>\r\n        <td class=\"firstRow\" v-if=\"showIfAdmin()\"></td>\r\n        <td class=\"firstRow\" v-if=\"showIfAdmin()\"></td>\r\n        <tr v-for=\"comment in comments\" :key=\"comment.id\">\r\n            <td class=\"highlight\" v-on:click=\"getComment(comment)\">{{comment.text}}</td>\r\n            <td class=\"highlight\" v-if=\"showIfAdmin()\" v-on:click=\"updateComment(comment.id)\">Atnaujinti</td>\r\n            <td class=\"highlight\" v-if=\"showIfAdmin()\" v-on:click=\"deleteComment(comment.id)\">Ištrinti</td>\r\n        </tr>   \r\n    </table>\r\n    <p class=\"footer\">InfoMovies</p>\r\n</template>\r\n<script>\r\n\r\nimport axios from 'axios'\r\nimport Header from './Header.vue'\r\nimport ModalWindow from \"./ModalWindow\";\r\nexport default{\r\n    name:'Comments',\r\n    data(){\r\n        return {\r\n            name:'',\r\n            movie:'',\r\n            comments:[],\r\n            token:'',\r\n            isModalVisible: false,\r\n            comment:[]\r\n        }\r\n    },\r\n    components:{\r\n        Header,\r\n        ModalWindow\r\n    },\r\n    methods:{\r\n        closeModal() {\r\n            this.isModalVisible = false;\r\n        },\r\n        showIfUser(){\r\n            let role = localStorage.getItem(\"userRole\");\r\n            if(role == \"SimpleUser\" || role == \"Admin\"){\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        showIfAdmin(){\r\n            let role = localStorage.getItem(\"userRole\");\r\n            if(role == \"Admin\"){\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        getComment(comment){\r\n            this.comment = comment;\r\n            this.isModalVisible = true;\r\n        },\r\n        createComment(){\r\n            this.$router.push({name: 'CreateComment'});\r\n        },\r\n        updateComment(id){\r\n            localStorage.setItem(\"chosenComment\", id);\r\n            this.$router.push({name: 'UpdateComment'});\r\n        },\r\n        async deleteComment(id){\r\n            let chosenCompany = localStorage.getItem(\"chosenCompany\");\r\n            let companyId = JSON.parse(chosenCompany).id;\r\n            let chosenMovie = localStorage.getItem(\"chosenMovie\");\r\n            let movieId = JSON.parse(chosenMovie).id;\r\n            await axios.delete(\"https://infomoviesapi.azurewebsites.net/api/companies/\" + companyId + \"/movies/\" + movieId + \"/comments/\" + id, { headers: {\"Authorization\" : `Bearer ${this.token}`} });\r\n            location.reload();\r\n        }\r\n    },\r\n\r\n    async mounted(){\r\n        this.token = localStorage.getItem(\"token\");\r\n        let chosenCompany = localStorage.getItem(\"chosenCompany\");\r\n        let companyId = JSON.parse(chosenCompany).id;\r\n        let chosenMovie = localStorage.getItem(\"chosenMovie\");\r\n        let movieId = JSON.parse(chosenMovie).id;\r\n        this.movie = JSON.parse(chosenMovie).title;\r\n        let request =await axios.get(\"https://infomoviesapi.azurewebsites.net/api/companies/\" + companyId + \"/movies/\" + movieId + \"/comments/\");\r\n        this.comments=request.data;\r\n    }\r\n}\r\n</script>\r\n\r\n"]}]}