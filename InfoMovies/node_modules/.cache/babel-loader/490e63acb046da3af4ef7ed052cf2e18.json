{"remainingRequest":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Karolis\\Desktop\\infomovies\\src\\components\\Movies.vue?vue&type=template&id=7ffef3f3","dependencies":[{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\src\\components\\Movies.vue","mtime":1638825922500},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\babel.config.js","mtime":1638703136159},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638703127529},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\babel-loader\\lib\\index.js","mtime":1638703128703},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1638703129442},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638703127529},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1638703128876}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCB9IGZyb20gInZ1ZSI7Cgp2YXIgX2hvaXN0ZWRfMSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJiciIsIG51bGwsIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImJyIiwgbnVsbCwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnIiLCBudWxsLCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJiciIsIG51bGwsIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF81ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgIlBhdmFkaW5pbWFzIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzYgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGQiLCBudWxsLCAiQXByYcWheW1hcyIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF83ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgIsSudmVydGluaW1hcyIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF84ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzkgPSB7CiAga2V5OiAwCn07CnZhciBfaG9pc3RlZF8xMCA9IHsKICBrZXk6IDEKfTsKdmFyIF9ob2lzdGVkXzExID0gWyJvbkNsaWNrIl07CnZhciBfaG9pc3RlZF8xMiA9IFsib25DbGljayJdOwp2YXIgX2hvaXN0ZWRfMTMgPSBbIm9uQ2xpY2siXTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9IZWFkZXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgiSGVhZGVyIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfSGVhZGVyKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDEiLCBudWxsLCAiS29tcGFuaWpvcyAiICsgX3RvRGlzcGxheVN0cmluZyh0aGlzLmNvbXBhbnkpICsgIiBmaWxtxbMgc8SFcmHFoWFzIiwgMQogIC8qIFRFWFQgKi8KICApLCAkb3B0aW9ucy5zaG93SWZBZG1pbigpID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiYnV0dG9uIiwgewogICAga2V5OiAwLAogICAgb25DbGljazogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5jcmVhdGVNb3ZpZSgpOwogICAgfSkKICB9LCAiU3VrdXJraXRlIGZpbG3EhSIpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgX2hvaXN0ZWRfMSwgX2hvaXN0ZWRfMiwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgewogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiBfY3R4LiRyb3V0ZXIucHVzaCgnY29tcGFuaWVzJyk7CiAgICB9KQogIH0sICJHcsSvxb50aSDEryBrb21wYW5pasWzIHPEhXJhxaHEhSIpLCBfaG9pc3RlZF8zLCBfaG9pc3RlZF80LCBfY3JlYXRlRWxlbWVudFZOb2RlKCJ0YWJsZSIsIG51bGwsIFtfaG9pc3RlZF81LCBfaG9pc3RlZF82LCBfaG9pc3RlZF83LCBfaG9pc3RlZF84LCAkb3B0aW9ucy5zaG93SWZBZG1pbigpID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygidGQiLCBfaG9pc3RlZF85KSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksICRvcHRpb25zLnNob3dJZkFkbWluKCkgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJ0ZCIsIF9ob2lzdGVkXzEwKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIChfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJGRhdGEubW92aWVzLCBmdW5jdGlvbiAobW92aWUpIHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soInRyIiwgewogICAgICBrZXk6IG1vdmllLmlkCiAgICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGQiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKG1vdmllLnRpdGxlKSwgMQogICAgLyogVEVYVCAqLwogICAgKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGQiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKG1vdmllLnN0b3J5KSwgMQogICAgLyogVEVYVCAqLwogICAgKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGQiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKG1vdmllLnNjb3JlKSwgMQogICAgLyogVEVYVCAqLwogICAgKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGQiLCB7CiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuICRvcHRpb25zLnBpY2tNb3ZpZShtb3ZpZS5pZCk7CiAgICAgIH0KICAgIH0sICJLb21lbnRhcmFpIiwgOAogICAgLyogUFJPUFMgKi8KICAgICwgX2hvaXN0ZWRfMTEpLCAkb3B0aW9ucy5zaG93SWZBZG1pbigpID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygidGQiLCB7CiAgICAgIGtleTogMCwKICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygkZXZlbnQpIHsKICAgICAgICByZXR1cm4gJG9wdGlvbnMudXBkYXRlTW92aWUobW92aWUuaWQpOwogICAgICB9CiAgICB9LCAiQXRuYXVqaW50aSIsIDgKICAgIC8qIFBST1BTICovCiAgICAsIF9ob2lzdGVkXzEyKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksICRvcHRpb25zLnNob3dJZkFkbWluKCkgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJ0ZCIsIHsKICAgICAga2V5OiAxLAogICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCRldmVudCkgewogICAgICAgIHJldHVybiAkb3B0aW9ucy5kZWxldGVNb3ZpZShtb3ZpZS5pZCk7CiAgICAgIH0KICAgIH0sICJJxaF0cmludGkiLCA4CiAgICAvKiBQUk9QUyAqLwogICAgLCBfaG9pc3RlZF8xMykpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSldKV0sIDY0CiAgLyogU1RBQkxFX0ZSQUdNRU5UICovCiAgKTsKfQ=="},{"version":3,"sources":["C:\\Users\\Karolis\\Desktop\\infomovies\\src\\components\\Movies.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<Header />\r\n    <h1>Kompanijos {{this.company}} filmų sąrašas</h1>\r\n    <button v-if=\"showIfAdmin()\" v-on:click=\"createMovie()\">Sukurkite filmą</button>\r\n    <br>\r\n    <br>\r\n    <button @click=\"$router.push('companies')\">Grįžti į kompanijų sąrašą</button>\r\n    <br>\r\n    <br>\r\n    <table>\r\n        <td>Pavadinimas</td>\r\n        <td>Aprašymas</td>\r\n        <td>Įvertinimas</td>\r\n        <td></td>\r\n        <td v-if=\"showIfAdmin()\"></td>\r\n        <td v-if=\"showIfAdmin()\"></td>\r\n        <tr v-for=\"movie in movies\" :key=\"movie.id\">\r\n            <td>{{movie.title}}</td>\r\n            <td>{{movie.story}}</td>\r\n            <td>{{movie.score}}</td>\r\n            <td v-on:click=\"pickMovie(movie.id)\" >Komentarai</td>\r\n            <td v-if=\"showIfAdmin()\" v-on:click=\"updateMovie(movie.id)\">Atnaujinti</td>\r\n            <td v-if=\"showIfAdmin()\" v-on:click=\"deleteMovie(movie.id)\">Ištrinti</td>\r\n        </tr>   \r\n    </table>\r\n</template>\r\n<script>\r\n\r\nimport axios from 'axios'\r\nimport Header from './Header.vue'\r\nexport default{\r\n    name:'Movies',\r\n    data(){\r\n        return {\r\n            company:'',\r\n            movies:[],\r\n            token :''\r\n        }\r\n    },\r\n    components:{\r\n        Header\r\n    },\r\n    methods:{\r\n        showIfAdmin(){\r\n            let role = localStorage.getItem(\"userRole\");\r\n            if(role == \"Admin\"){\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        createMovie(){\r\n            this.$router.push({name: 'CreateMovie'});\r\n        },\r\n        updateMovie(id){\r\n            localStorage.setItem(\"chosenMovie\", id);\r\n            this.$router.push({name: 'UpdateMovie'});\r\n        },\r\n        async deleteMovie(id){\r\n            let chosenCompany = localStorage.getItem(\"chosenCompany\");\r\n            let companyId = JSON.parse(chosenCompany).id;\r\n            await axios.delete(\"https://infomoviesapi.azurewebsites.net/api/companies/\" + companyId + \"/movies/\" + id, { headers: {\"Authorization\" : `Bearer ${this.token}`} });\r\n            location.reload();\r\n        },\r\n        async pickMovie(id){\r\n            let chosenCompany = localStorage.getItem(\"chosenCompany\");\r\n                let companyId = JSON.parse(chosenCompany).id;\r\n                let request =await axios.get(\"https://infomoviesapi.azurewebsites.net/api/companies/\" + companyId + \"/movies/\" + id);\r\n                localStorage.setItem(\"chosenMovie\", JSON.stringify(request.data));\r\n                this.$router.push({name:'Comments'});\r\n        }\r\n    },\r\n\r\n    async mounted(){\r\n        this.token = localStorage.getItem(\"token\");\r\n        let chosenCompany = localStorage.getItem(\"chosenCompany\");\r\n        let companyId = JSON.parse(chosenCompany).id;\r\n        this.company = JSON.parse(chosenCompany).name;\r\n        let request =await axios.get(\"https://infomoviesapi.azurewebsites.net/api/companies/\" + companyId + \"/movies/\");\r\n        this.movies=request.data;\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\ntable {\r\n  border-collapse: collapse;\r\n  width: 100%;\r\n}\r\n\r\nth, td {\r\n  padding: 8px;\r\n  text-align: left;\r\n  border-bottom: 1px solid #DDD;\r\n  border-color: #96D4D4;\r\n  border: 1px solid black;\r\n}\r\n\r\ntr:hover {background-color: #D6EEEE;}\r\n</style>\r\n\r\n"],"sourceRoot":""}]}