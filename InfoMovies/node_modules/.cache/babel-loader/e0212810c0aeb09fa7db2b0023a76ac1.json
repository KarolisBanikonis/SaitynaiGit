{"remainingRequest":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Karolis\\Desktop\\infomovies\\src\\components\\Comments.vue?vue&type=template&id=5847e424","dependencies":[{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\src\\components\\Comments.vue","mtime":1638884569482},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\babel.config.js","mtime":1638703136159},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638703127529},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\babel-loader\\lib\\index.js","mtime":1638703128703},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1638703129442},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638703127529},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1638703128876}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHZTaG93IGFzIF92U2hvdywgd2l0aEN0eCBhcyBfd2l0aEN0eCwgd2l0aERpcmVjdGl2ZXMgYXMgX3dpdGhEaXJlY3RpdmVzLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQgfSBmcm9tICJ2dWUiOwoKdmFyIF9ob2lzdGVkXzEgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnIiLCBudWxsLCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJiciIsIG51bGwsIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8zID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImJyIiwgbnVsbCwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzQgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnIiLCBudWxsLCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJoMiIsIG51bGwsICJLb21lbnRhcmFzIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzYgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGQiLCBudWxsLCAiVGVrc3RhcyIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF83ID0gewogIGtleTogMAp9Owp2YXIgX2hvaXN0ZWRfOCA9IHsKICBrZXk6IDEKfTsKdmFyIF9ob2lzdGVkXzkgPSBbIm9uQ2xpY2siXTsKdmFyIF9ob2lzdGVkXzEwID0gWyJvbkNsaWNrIl07CnZhciBfaG9pc3RlZF8xMSA9IFsib25DbGljayJdOwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfdGhpcyA9IHRoaXM7CgogIHZhciBfY29tcG9uZW50X0hlYWRlciA9IF9yZXNvbHZlQ29tcG9uZW50KCJIZWFkZXIiKTsKCiAgdmFyIF9jb21wb25lbnRfTW9kYWxXaW5kb3cgPSBfcmVzb2x2ZUNvbXBvbmVudCgiTW9kYWxXaW5kb3ciKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9IZWFkZXIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJoMSIsIG51bGwsICJGaWxtbyAiICsgX3RvRGlzcGxheVN0cmluZyh0aGlzLm1vdmllKSArICIga29tZW50YXLFsyBzxIVyYcWhYXMiLCAxCiAgLyogVEVYVCAqLwogICksICRvcHRpb25zLnNob3dJZlVzZXIoKSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImJ1dHRvbiIsIHsKICAgIGtleTogMCwKICAgIG9uQ2xpY2s6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJG9wdGlvbnMuY3JlYXRlQ29tbWVudCgpOwogICAgfSkKICB9LCAiU3VrdXJraXRlIGtvbWVudGFyxIUiKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9ob2lzdGVkXzEsIF9ob2lzdGVkXzIsIF9jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICAgIG9uQ2xpY2s6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gX2N0eC4kcm91dGVyLnB1c2goJ01vdmllcycpOwogICAgfSkKICB9LCAiR3LEr8W+dGkgxK8gZmlsbcWzIHPEhXJhxaHEhSIpLCBfaG9pc3RlZF8zLCBfaG9pc3RlZF80LCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfTW9kYWxXaW5kb3csIHsKICAgIG9uQ2xvc2U6ICRvcHRpb25zLmNsb3NlTW9kYWwKICB9LCB7CiAgICBib2R5OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2hvaXN0ZWRfNSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgibGkiLCBudWxsLCAiSWQgLSAiICsgX3RvRGlzcGxheVN0cmluZyhfdGhpcy5jb21tZW50LmlkKSwgMQogICAgICAvKiBURVhUICovCiAgICAgICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImxpIiwgbnVsbCwgIlRla3N0YXMgLSAiICsgX3RvRGlzcGxheVN0cmluZyhfdGhpcy5jb21tZW50LnRleHQpLCAxCiAgICAgIC8qIFRFWFQgKi8KICAgICAgKV07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9LCA4CiAgLyogUFJPUFMgKi8KICAsIFsib25DbG9zZSJdKSwgW1tfdlNob3csICRkYXRhLmlzTW9kYWxWaXNpYmxlXV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJ0YWJsZSIsIG51bGwsIFtfaG9pc3RlZF82LCAkb3B0aW9ucy5zaG93SWZBZG1pbigpID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygidGQiLCBfaG9pc3RlZF83KSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksICRvcHRpb25zLnNob3dJZkFkbWluKCkgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJ0ZCIsIF9ob2lzdGVkXzgpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkZGF0YS5jb21tZW50cywgZnVuY3Rpb24gKGNvbW1lbnQpIHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soInRyIiwgewogICAgICBrZXk6IGNvbW1lbnQuaWQKICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJ0ZCIsIHsKICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygkZXZlbnQpIHsKICAgICAgICByZXR1cm4gJG9wdGlvbnMuZ2V0Q29tbWVudChjb21tZW50KTsKICAgICAgfQogICAgfSwgX3RvRGlzcGxheVN0cmluZyhjb21tZW50LnRleHQpLCA5CiAgICAvKiBURVhULCBQUk9QUyAqLwogICAgLCBfaG9pc3RlZF85KSwgJG9wdGlvbnMuc2hvd0lmQWRtaW4oKSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soInRkIiwgewogICAgICBrZXk6IDAsCiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuICRvcHRpb25zLnVwZGF0ZUNvbW1lbnQoY29tbWVudC5pZCk7CiAgICAgIH0KICAgIH0sICJBdG5hdWppbnRpIiwgOAogICAgLyogUFJPUFMgKi8KICAgICwgX2hvaXN0ZWRfMTApKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgJG9wdGlvbnMuc2hvd0lmQWRtaW4oKSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soInRkIiwgewogICAgICBrZXk6IDEsCiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuICRvcHRpb25zLmRlbGV0ZUNvbW1lbnQoY29tbWVudC5pZCk7CiAgICAgIH0KICAgIH0sICJJxaF0cmludGkiLCA4CiAgICAvKiBQUk9QUyAqLwogICAgLCBfaG9pc3RlZF8xMSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSldKV0sIDY0CiAgLyogU1RBQkxFX0ZSQUdNRU5UICovCiAgKTsKfQ=="},{"version":3,"sources":["C:\\Users\\Karolis\\Desktop\\infomovies\\src\\components\\Comments.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<Header />\r\n    <h1>Filmo {{this.movie}} komentarų sąrašas</h1>\r\n    <button v-if=\"showIfUser()\" v-on:click=\"createComment()\">Sukurkite komentarą</button>\r\n    <br>\r\n    <br>\r\n    <button @click=\"$router.push('Movies')\">Grįžti į filmų sąrašą</button>\r\n    <br>\r\n    <br>\r\n    <ModalWindow v-show=\"isModalVisible\" @close=\"closeModal\">\r\n        <template v-slot:body>\r\n            <h2>Komentaras</h2>\r\n            <li>Id - {{this.comment.id}}</li>\r\n            <li>Tekstas - {{this.comment.text}}</li>\r\n        </template>\r\n    </ModalWindow>\r\n    <table>\r\n        <td>Tekstas</td>\r\n        <td v-if=\"showIfAdmin()\"></td>\r\n        <td v-if=\"showIfAdmin()\"></td>\r\n        <tr v-for=\"comment in comments\" :key=\"comment.id\">\r\n            <td v-on:click=\"getComment(comment)\">{{comment.text}}</td>\r\n            <td v-if=\"showIfAdmin()\" v-on:click=\"updateComment(comment.id)\">Atnaujinti</td>\r\n            <td v-if=\"showIfAdmin()\" v-on:click=\"deleteComment(comment.id)\">Ištrinti</td>\r\n        </tr>   \r\n    </table>\r\n</template>\r\n<script>\r\n\r\nimport axios from 'axios'\r\nimport Header from './Header.vue'\r\nimport ModalWindow from \"./ModalWindow\";\r\nexport default{\r\n    name:'Comments',\r\n    data(){\r\n        return {\r\n            name:'',\r\n            movie:'',\r\n            comments:[],\r\n            token:'',\r\n            isModalVisible: false,\r\n            comment:[]\r\n        }\r\n    },\r\n    components:{\r\n        Header,\r\n        ModalWindow\r\n    },\r\n    methods:{\r\n        closeModal() {\r\n            this.isModalVisible = false;\r\n        },\r\n        showIfUser(){\r\n            let role = localStorage.getItem(\"userRole\");\r\n            if(role == \"SimpleUser\" || role == \"Admin\"){\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        showIfAdmin(){\r\n            let role = localStorage.getItem(\"userRole\");\r\n            if(role == \"Admin\"){\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        getComment(comment){\r\n            this.comment = comment;\r\n            this.isModalVisible = true;\r\n        },\r\n        createComment(){\r\n            this.$router.push({name: 'CreateComment'});\r\n        },\r\n        updateComment(id){\r\n            localStorage.setItem(\"chosenComment\", id);\r\n            this.$router.push({name: 'UpdateComment'});\r\n        },\r\n        async deleteComment(id){\r\n            let chosenCompany = localStorage.getItem(\"chosenCompany\");\r\n            let companyId = JSON.parse(chosenCompany).id;\r\n            let chosenMovie = localStorage.getItem(\"chosenMovie\");\r\n            let movieId = JSON.parse(chosenMovie).id;\r\n            await axios.delete(\"https://infomoviesapi.azurewebsites.net/api/companies/\" + companyId + \"/movies/\" + movieId + \"/comments/\" + id, { headers: {\"Authorization\" : `Bearer ${this.token}`} });\r\n            location.reload();\r\n        }\r\n    },\r\n\r\n    async mounted(){\r\n        this.token = localStorage.getItem(\"token\");\r\n        let chosenCompany = localStorage.getItem(\"chosenCompany\");\r\n        let companyId = JSON.parse(chosenCompany).id;\r\n        let chosenMovie = localStorage.getItem(\"chosenMovie\");\r\n        let movieId = JSON.parse(chosenMovie).id;\r\n        this.movie = JSON.parse(chosenMovie).title;\r\n        let request =await axios.get(\"https://infomoviesapi.azurewebsites.net/api/companies/\" + companyId + \"/movies/\" + movieId + \"/comments/\");\r\n        this.comments=request.data;\r\n    }\r\n}\r\n</script>\r\n\r\n"],"sourceRoot":""}]}