{"remainingRequest":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Karolis\\Desktop\\infomovies\\src\\components\\Comments.vue?vue&type=template&id=5847e424","dependencies":[{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\src\\components\\Comments.vue","mtime":1638875752711},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\babel.config.js","mtime":1638703136159},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638703127529},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\babel-loader\\lib\\index.js","mtime":1638703128703},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1638703129442},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638703127529},{"path":"C:\\Users\\Karolis\\Desktop\\infomovies\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1638703128876}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCB9IGZyb20gInZ1ZSI7Cgp2YXIgX2hvaXN0ZWRfMSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJiciIsIG51bGwsIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImJyIiwgbnVsbCwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnIiLCBudWxsLCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJiciIsIG51bGwsIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF81ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgIlRla3N0YXMiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNiA9IHsKICBrZXk6IDAKfTsKdmFyIF9ob2lzdGVkXzcgPSB7CiAga2V5OiAxCn07CnZhciBfaG9pc3RlZF84ID0gWyJvbkNsaWNrIl07CnZhciBfaG9pc3RlZF85ID0gWyJvbkNsaWNrIl07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfSGVhZGVyID0gX3Jlc29sdmVDb21wb25lbnQoIkhlYWRlciIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0hlYWRlciksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImgxIiwgbnVsbCwgIkZpbG1vICIgKyBfdG9EaXNwbGF5U3RyaW5nKHRoaXMubW92aWUpICsgIiBrb21lbnRhcsWzIHPEhXJhxaFhcyIsIDEKICAvKiBURVhUICovCiAgKSwgJG9wdGlvbnMuc2hvd0lmVXNlcigpID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiYnV0dG9uIiwgewogICAga2V5OiAwLAogICAgb25DbGljazogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5jcmVhdGVDb21tZW50KCk7CiAgICB9KQogIH0sICJTdWt1cmtpdGUga29tZW50YXLEhSIpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgX2hvaXN0ZWRfMSwgX2hvaXN0ZWRfMiwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgewogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiBfY3R4LiRyb3V0ZXIucHVzaCgnTW92aWVzJyk7CiAgICB9KQogIH0sICJHcsSvxb50aSDEryBmaWxtxbMgc8SFcmHFocSFIiksIF9ob2lzdGVkXzMsIF9ob2lzdGVkXzQsIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRhYmxlIiwgbnVsbCwgW19ob2lzdGVkXzUsICRvcHRpb25zLnNob3dJZkFkbWluKCkgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJ0ZCIsIF9ob2lzdGVkXzYpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgJG9wdGlvbnMuc2hvd0lmQWRtaW4oKSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soInRkIiwgX2hvaXN0ZWRfNykpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRkYXRhLmNvbW1lbnRzLCBmdW5jdGlvbiAoY29tbWVudCkgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygidHIiLCB7CiAgICAgIGtleTogY29tbWVudC5pZAogICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhjb21tZW50LnRleHQpLCAxCiAgICAvKiBURVhUICovCiAgICApLCAkb3B0aW9ucy5zaG93SWZBZG1pbigpID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygidGQiLCB7CiAgICAgIGtleTogMCwKICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygkZXZlbnQpIHsKICAgICAgICByZXR1cm4gJG9wdGlvbnMudXBkYXRlQ29tbWVudChjb21tZW50LmlkKTsKICAgICAgfQogICAgfSwgIkF0bmF1amludGkiLCA4CiAgICAvKiBQUk9QUyAqLwogICAgLCBfaG9pc3RlZF84KSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksICRvcHRpb25zLnNob3dJZkFkbWluKCkgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJ0ZCIsIHsKICAgICAga2V5OiAxLAogICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCRldmVudCkgewogICAgICAgIHJldHVybiAkb3B0aW9ucy5kZWxldGVDb21tZW50KGNvbW1lbnQuaWQpOwogICAgICB9CiAgICB9LCAiScWhdHJpbnRpIiwgOAogICAgLyogUFJPUFMgKi8KICAgICwgX2hvaXN0ZWRfOSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSldKV0sIDY0CiAgLyogU1RBQkxFX0ZSQUdNRU5UICovCiAgKTsKfQ=="},{"version":3,"sources":["C:\\Users\\Karolis\\Desktop\\infomovies\\src\\components\\Comments.vue"],"names":[],"mappings":";;8BAII,mBAAA,CAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,CAAA;AAAA;AAAJ,C;;8BACA,mBAAA,CAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,CAAA;AAAA;AAAJ,C;;8BAEA,mBAAA,CAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,CAAA;AAAA;AAAJ,C;;8BACA,mBAAA,CAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,CAAA;AAAA;AAAJ,C;;8BAEI,mBAAA,CAAgB,IAAhB,EAAgB,IAAhB,EAAI,SAAJ,EAAW,CAAA;AAAA;AAAX,C;;;;;;;;;;;;;6DATR,YAAA,CAAU,iBAAV,C,EACI,mBAAA,CAA+C,IAA/C,EAA+C,IAA/C,EAAI,WAAM,gBAAA,CAAA,KAAO,KAAP,CAAN,GAAoB,oBAAxB,EAA0C;AAAA;AAA1C,G,EACc,QAAA,CAAA,UAAA,E,kBAAd,mBAAA,CAAqF,QAArF,EAAqF;UAAA;AAApD,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,QAAA,CAAA,aAAA,EAAF;AAAA,KAAA;AAA+C,GAArF,EAAyD,qBAAzD,C,uCACA,U,EACA,U,EACA,mBAAA,CAAsE,QAAtE,EAAsE;AAA7D,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,IAAA,CAAA,OAAA,CAAQ,IAAR,CAAY,QAAZ,CAAF;AAAA,KAAA;AAAwD,GAAtE,EAAwC,uBAAxC,C,EACA,U,EACA,U,EACA,mBAAA,CASQ,OATR,EASQ,IATR,EASQ,CARJ,UAQI,EAPM,QAAA,CAAA,WAAA,E,kBAAV,mBAAA,CAA8B,IAA9B,EAA8B,UAA9B,C,qCAOI,EANM,QAAA,CAAA,WAAA,E,kBAAV,mBAAA,CAA8B,IAA9B,EAA8B,UAA9B,C,qCAMI,G,kBALJ,mBAAA,CAIK,SAJL,EAIK,IAJL,EAIK,WAAA,CAJiB,KAAA,CAAA,QAIjB,EAJyB,UAAnB,OAAmB,EAAZ;yBAAlB,mBAAA,CAIK,IAJL,EAIK;AAJ4B,MAAA,GAAG,EAAE,OAAO,CAAC;AAIzC,KAJL,E,CACI,mBAAA,CAAyB,IAAzB,EAAyB,IAAzB,EAAyB,gBAAA,CAAnB,OAAO,CAAC,IAAW,CAAzB,EAAkB;AAAA;AAAlB,K,EACU,QAAA,CAAA,WAAA,E,kBAAV,mBAAA,CAA+E,IAA/E,EAA+E;YAAA;AAAjD,MAAA,OAAK,EAAA,iBAAA,MAAA;AAAA,eAAE,QAAA,CAAA,aAAA,CAAc,OAAO,CAAC,EAAtB,CAAF;AAAA;AAA4C,KAA/E,EAAgE,YAAhE,EAA0E;AAAA;AAA1E,MAA0E,UAA1E,C,uCACU,QAAA,CAAA,WAAA,E,kBAAV,mBAAA,CAA6E,IAA7E,EAA6E;YAAA;AAA/C,MAAA,OAAK,EAAA,iBAAA,MAAA;AAAA,eAAE,QAAA,CAAA,aAAA,CAAc,OAAO,CAAC,EAAtB,CAAF;AAAA;AAA0C,KAA7E,EAAgE,UAAhE,EAAwE;AAAA;AAAxE,MAAwE,UAAxE,C,sCAHJ,C;GAIK,CAJL,E;;AAAA,GAKI,EATR,C","sourcesContent":["<template>\r\n<Header />\r\n    <h1>Filmo {{this.movie}} komentarų sąrašas</h1>\r\n    <button v-if=\"showIfUser()\" v-on:click=\"createComment()\">Sukurkite komentarą</button>\r\n    <br>\r\n    <br>\r\n    <button @click=\"$router.push('Movies')\">Grįžti į filmų sąrašą</button>\r\n    <br>\r\n    <br>\r\n    <table>\r\n        <td>Tekstas</td>\r\n        <td v-if=\"showIfAdmin()\"></td>\r\n        <td v-if=\"showIfAdmin()\"></td>\r\n        <tr v-for=\"comment in comments\" :key=\"comment.id\">\r\n            <td>{{comment.text}}</td>\r\n            <td v-if=\"showIfAdmin()\" v-on:click=\"updateComment(comment.id)\">Atnaujinti</td>\r\n            <td v-if=\"showIfAdmin()\" v-on:click=\"deleteComment(comment.id)\">Ištrinti</td>\r\n        </tr>   \r\n    </table>\r\n</template>\r\n<script>\r\n\r\nimport axios from 'axios'\r\nimport Header from './Header.vue'\r\nexport default{\r\n    name:'Comments',\r\n    data(){\r\n        return {\r\n            name:'',\r\n            movie:'',\r\n            comments:[],\r\n            token:''\r\n        }\r\n    },\r\n    components:{\r\n        Header\r\n    },\r\n    methods:{\r\n        showIfUser(){\r\n            let role = localStorage.getItem(\"userRole\");\r\n            if(role == \"SimpleUser\" || role == \"Admin\"){\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        showIfAdmin(){\r\n            let role = localStorage.getItem(\"userRole\");\r\n            if(role == \"Admin\"){\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        createComment(){\r\n            this.$router.push({name: 'CreateComment'});\r\n        },\r\n        updateComment(id){\r\n            localStorage.setItem(\"chosenComment\", id);\r\n            this.$router.push({name: 'UpdateComment'});\r\n        },\r\n        async deleteComment(id){\r\n            let chosenCompany = localStorage.getItem(\"chosenCompany\");\r\n            let companyId = JSON.parse(chosenCompany).id;\r\n            let chosenMovie = localStorage.getItem(\"chosenMovie\");\r\n            let movieId = JSON.parse(chosenMovie).id;\r\n            await axios.delete(\"https://infomoviesapi.azurewebsites.net/api/companies/\" + companyId + \"/movies/\" + movieId + \"/comments/\" + id, { headers: {\"Authorization\" : `Bearer ${this.token}`} });\r\n            location.reload();\r\n        }\r\n    },\r\n\r\n    async mounted(){\r\n        this.token = localStorage.getItem(\"token\");\r\n        let chosenCompany = localStorage.getItem(\"chosenCompany\");\r\n        let companyId = JSON.parse(chosenCompany).id;\r\n        let chosenMovie = localStorage.getItem(\"chosenMovie\");\r\n        let movieId = JSON.parse(chosenMovie).id;\r\n        this.movie = JSON.parse(chosenMovie).title;\r\n        let request =await axios.get(\"https://infomoviesapi.azurewebsites.net/api/companies/\" + companyId + \"/movies/\" + movieId + \"/comments/\");\r\n        this.comments=request.data;\r\n    }\r\n}\r\n</script>\r\n\r\n"],"sourceRoot":""}]}